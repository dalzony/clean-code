# 주석
* 주석은 필요악이다
* 코드로 의도를 표현하지 못해 주석을 사용한다
* 주석은 시간이 갈수록 코드와 멀어진다
* 부정확한 주석은 아예 없는 주석보다 훨씬 나쁘다

  => 코드만이 자기가 하는 일을 진실되게 말한다

## 주석은 나쁜 코드를 보완하지 못한다
주석을 추가하는 이유는 코드 품질이 나쁘기 때문 => 주석을 달지말고 코드를 고쳐라!

## 코드로 의도를 표현하라!
```
// 직원에게 복지 혜택을 받을 자격이 있는지 검사한다
if ((employee.flags & HOURLY_FLAG) && (employee.age > 65))
```
```
if (employee.isEligibleForFullBenefits())
```

## 좋은 주석
* 어떤 주석은 필요하거나 유익하다 하지만 정말로 좋은 주석은, 주석을 달지 않을 방법을 찾아낸 주석이다

### 법적인 주석
* 회사가 정한 표준에 맞춰 법적인 이유로 특정 주석을 넣는 경우
```
// Copyright (C) 2003,2004,2005 by Object Mentor, Inc. All rights reserved.
// GNU General Public License 버전 2 이상을 따르는 조건으로 배포한다.
```

### 정보를 제공하는 주석
* 기본적인 정보를 주석으로 제공하면 편리하다
* 하지만 그래도 역시 함수 이름에 정보를 담는 식으로 주석을 없애는게 좋다
```
// 테스트 중인 Responder 인스턴스를 반환한다
protected abstract Responder responderInstance();
protected abstract Responder responderBeingTested();

// kk:mm:ss EEE, MMM dd, yyyy 형식이다
Pattern timeMatcher = Pattern.compile("\\d*:\\d*:\\d* \\w*, \\w* \\d*, \\d*");
```

### 의도를 설명하는 주석
* 때때로 주석은 의도를 설명한다
```
public int compareTo(Object o) {
	if (o instanceof WikiPagePath) {
		WikiPagePath p = (WikiPagePath) o;
		String compressedName = StringUtil.join(names, "");
		String compressedArgumentName = StringUtil.join(p.names, "");
		return compressedName.compareTo(compressedArgumentName);
	}
	return 1;	// 오른쪽 유형이므로 정렬 순위가 더 높다
}
```
```
public void testConcurrentAddWidgets() throws Exception {
	WidgetBuilder widgetBuilder = new WidgetBuilder(new Class[]{BoldWidget.class});
	String text = "'''bold text'''";
	ParentWidget parent = new BoldWidget(new MockWidgetRott(), "'''bold text'''");
	AtomicBoolean failFlag = new AtomicBoolean();
	failFlag.set(false);

	// 스레드를 대량 생성하는 방법으로 어떻게든 경쟁 조건을 만들려 시도한다
	for (int i = 0; i < 25000; i++) {
		WidgetBuilderThread widgetBuilderThread = new WidgetBuilderThread(widgetBuilder, text, parent, failFlag);
		Thread thread = new Thread(widgetBuilderThread);
		thread.start();
	}
	assertEquals(false, failFlag.get());
}
```

### 의미를 명료하게 밝히는 주석
* 모호한 인수나 반환값은 그 의미를 읽기 좋게 표현하면 이해하기 쉬워진다
* 인수나 반환값 자체를 명확하게 만드는게 더 좋다
* 그릇된 주석을 달아놓을 위험이 상당히 높기 때문에 더 나은 방법이 없는지 고민하고 정확히 달아라

### 결과를 경고하는 주석
* 다른 프로그래머에게 결과를 경고할 목적으로 주석을 사용한다

### TODO 주석
* 앞으로 할 일을 TODO 주석으로 남겨두면 편하다
* 주기적으로 TODO를 점검해 없애도 괜찮은 주석은 없애길 권한다

### 중요성을 강조하는 주석
* 자칫 놓칠 수 있는 무언가의 중요성을 강조하기 위해서도 주석을 사용한다

### 공개 API에서 Javadocs
* 공개 API를 구현한다면 반드시 훌륭한 Javadocs를 작성한다
* 하지만 여느 주석과 마찬가지로 Javadocs 역시 독자를 오도하거나, 잘못 위치하거나, 그릇된 정보를 전달할 가능성이 존재한다

## 나쁜 주석
* 대다수 주석이 여기 속한다

### 주절거리는 주석
* 특별한 이유 없이 의무감으로 혹은 프로세스에서 하라고 하니까 마지못해 주석을 단다면 시간낭비다
* 주석을 달기로 결정했다면 충분한 시간을 들여 최고의 주석을 달도록 노력한다
```
public void loadProperties() {
	try {
		String propertiesPath = propertiesLocation + "/" + PROPERTIES_FILE;
		FileInputStream propertiesStream = new FileInputStream(propertiesPath);
		loadedProperties.load(propertiesStream);
	} catch (IOException e) {
		// 속성 파일이 없다면 기본값을 모두 메모리로 읽어 들였다는 의미다
	}
}
```

### 같은 이야기를 중복하는 주석
* 코드 내용을 그대로 중복하는 코드
```
// this.closed가 true일 때 반환되는 유틸리티 메서드다.
// 타임아웃에 도달하면 예외를 던진다.
public synchronized void waitForClose(final long timeoutMillis) throws Exception {
	if (!closed) {
		wait(timeoutMillis);
		if (!closed)
			throw new Exception("MockResponseSender could not be closed");
	}
}
```

### 오해할 여지가 있는 주석

### 의무적으로 다는 주석
### 이력을 기록하는 주석
### 있으나 마나 한 주석
### 무서운 잡음
### 함수나 변수로 표현할 수 있다면 주석을 달지 마라
### 위치를 표시하는 주석
### 닫는 괄호에 다는 주석
### 공로를 돌리거나 저자를 표시하는 주석
### 주석으로 처리한 코드
### HTML 주석
### 전역 정보
### 너무 많은 정보
### 모호한 관계
### 함수 헤더
### 비공개 코드에서 Javadocs
